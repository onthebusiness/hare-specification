\specchapter{Language}

\specsection{Notation}

\informative{A summary of the language syntax is given in \appxref{Language
syntax summary}.}

\specsubitem
The notation used in this specification indicates non-terminals with
\textit{italic type}, terminals with \terminal{bold type}, and optional
symbols use "opt" in subscript. Non-terminals referenced in the text use the
\under{expression} notation. The following example denotes an optional
\nonterminal{expression} enclosed in literal braces:

\begin{grammar}
\terminal{\{} \optional{\nonterminal{expression}} \terminal{\}}
\end{grammar}

\specsubitem
When there are multiple options for a single non-terminal, they will either be
printed on successive lines, or the preceeding authoritative text shall use the
key phrase "one of".

\specsubitem
A non-terminal is defined with its name, a colon (':'), and the options;
indented and shown with one option per line. For example,
\nonterminal{switch-cases} is defined like so:

\begin{grammar}
\nonterminaldef{switch-cases}
\nonterminal{switch-case}\\
\nonterminal{switch-case} \terminal{,}\\
\nonterminal{switch-case} \terminal{,} \nonterminal{switch-cases}
\end{grammar}

\newpage
\specsection{Concepts}

\specsubsection{Identifiers}

\begin{grammar}
\nonterminaldef{identifier}
\nonterminal{name}\\
\nonterminal{name} \terminal{::} \nonterminal{identifier}
\end{grammar}

\specsubsubitem
An \textit{identifier} is a user-defined name which denotes a module, object,
function, type alias, struct or union member, or enumeration member.

\specsubsubitem
An identifier is only meaningful within a specific \textit{scope} of the
program. The scope is defined by the region of the AST in which the identifier
is applicable; it may be the program, a translation unit, a function, or an
\nonterminal{expression-list}. The identifier is considered \textit{visible}
within the region that defines its scope.

\specsubsubitem
A translation unit is assigned a unique \textit{namespace} within the program.
These namespaces may be nested recursively; that is to say that a translation
unit may have a \textit{parent} which is another translation unit. One
translation unit may be assigned to the \textit{root namespace}, which has no
name.

\specsubsubitem
Identifiers declared within a translation unit scope are assigned the namespace
of the translation unit. The double-colon terminal \terminal{::} is used to
denote the namespace of an identifier, ordered from most to least specific.

\specsubsubitem
An identifier is either \textit{fully-qualified} or \textit{unqualified}.
Unqualified identifiers require the context of their enclosing scope to be
interpreted unambiguously. Fully-qualified identifiers are used for
\textit{exported} identifiers, and include the namespace in which they reside.

\example{The fully-qualified identifier \code{sys::start::start\_ha} qualifies
the un-qualified identifier \code{start\_ha} with the start namespace, which is
itself a member of the sys namespace.}
